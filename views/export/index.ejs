<% include ../partials/header %>
<div class="container">
    <h1 style="text-align: center; margin: 30px;">List of Transactions</h1>     
    <div class="row text-center" style="display:flex; flex-wrap: wrap;">
    
        <div style="width: 30%; margin: 6px auto;">
            <div class="form-group"> 
                <form action="/transaction" method="GET" class="form-inline">
            </div>
            <div class="form-group">
                <input type="text" name="search" placeholder="URL..." class="form-control">
            </div>
            <div class="form-group">
                <input type="submit" value="Search" class="button">
            </div>
         </div>
        </div>
    </div>
<br>
<div style="background: white; margin: 30px;">
    <div id="toolbar" class="select">
        <i class="fab fa-js-square" id="json"></i>
        <i class="fas fa-file-pdf" id="pdf"></i>
        <i class="fas fa-file-csv" id="csv"></i>
    </div>
    <table id="table" data-toggle="table" data-pagination="true" data-search="true" data-show-columns="true" data-toolbar="#toolbar"
        data-advanced-search="true" data-id-table="advancedTable" data-filter-control="true" data-show-toggle="true" data-show-fullscreen="true" data-show-pagination-switch="true"
        data-filter-show-clear="true" data-click-to-select="true" data-page-list="[10,20,30,40, All]">
    <thead>
        <tr>
        <th data-field="state" data-checkbox="true" data-visible="false"></th>
        <th data-field="round" data-sortable="true" data-filter-control="select" class="small">round</th> 
        <th data-field="name" data-sortable="true" data-filter-control="input" class="small" class="small">name</th>
        <th data-field="email" data-sortable="true" data-filter-control="input" class="small">email</th> 
        <th data-field="category" data-sortable="true" data-filter-control="input" class="small">category</th> 
        <th data-field="nominated" data-sortable="true" data-filter-control="input" class="small">nominated</th> 
        <th data-field="id" data-sortable="true" data-filter-control="input" class="small">id</th> 
        <th data-field="url" data-sortable="true" data-filter-control="input" class="small"class="small">url</th>
        <th data-field="domain" data-sortable="true" data-filter-control="input" class="small"class="small">domain</th>
        <th data-field="remarks" data-sortable="true" data-filter-control="input" class="small"class="small">remarks</th>
        <th data-field="createdAt" data-sortable="true" data-filter-control="input" class="small"class="small">createdAt</th>
        <th data-filter-control="input"class="small">Action</th>
        </tr>
    </thead>
    <tbody>
        <% transactions.forEach(function(transaction){%>
        <tr> 
              
                <td></td>
                    <td class="small"><%= transaction.round%> </td>
                    <td class="small"><%= transaction.name%></td>
                    <td class="small"><%= transaction.email%></td>
                    <td class="small"><%= transaction.category%></td>
                    <td class="small"><%= transaction.nominated%></td>
                    <td class="small"><%= transaction.id%></td>
                    <td class="small"><%= transaction.url%></td>
                    <td class="small"><%= transaction.domain%></td>
                    <td class="small"><%= transaction.remarks%></td>
                    <td class="small"><%= transaction.createdAt%></td>
                    <td class="small"><a href="/transaction/<%= transaction._id%>/edit"><i class="fas fa-user-edit"></i></a><a href="/transaction/<%= transaction._id%>/delete"><i class="fas fa-trash-alt"></i></a>
                        </td>
        </tr>    
        <% }); %>
    </div>

</div><script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script src="https://cdnjs.cloudfare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
<script src="asset/bootstrap-table.min.js"></script>
<script src="asset/bootstrap-table-toolbar.min.js"></script>
<script src="asset/bootstrap-table-filter-control.min.js"></script>
<script src="asset/jquery-3.3.1.slim.min.js"></script>
<script src="asset/jspdf.min.js"></script>
<script src="asset/jspdf.plugin.autotable.min.js"></script>
<script src="asset/tableHTMLExport.js"></script>
<script>
    $("#json").on("click", function () {
        $("#table").tableHTMLExport({
            type: 'json',
            filename: 'sample.json'
        })
    })
    $("#pdf").on("click", function () {
        $("#table").tableHTMLExport({
            type: 'pdf',
            filename: 'sample.pdf'
        })
    })
    $("#csv").on("click", function () {
        $("#table").tableHTMLExport({
            type: 'csv',
            filename: 'sample.csv'
        })
    })
</script>  

   
<% include ../partials/footer%></div>